---
agent: agent
description: "유저의 명령(ORDER)에 따라서 작업 계획서(PLAN) 작성"
---

## 작업 계획서(PLAN) 작성

### 트리거

사용자가 특정 업무에 대한 작업 계획서 작성을 요청할 때 (ORDER)

**예시:**
> "계산기 화면을 그리기 위한 작업 계획서를 작성해줘."

### 파일 경로

```text
/docs/current_sprint/planMMDDNN.md
```

> 폴더가 없으면 생성한다.

### 작성 원칙

| 원칙 | 설명 |
|------|------|
| 추상화 | 구현 코드 없이 인터페이스/시그니처 수준으로 기술 |
| 구조 참조 | `/docs/structure/` 참고, 중복 제거 및 적절한 위치에 배치 |
| TODO 반영 | `TODO.md` 확인, 관련 항목 PLAN에 포함 |

### 실행 프로세스

```text
ORDER(요청) → PLAN 작성 → 사용자 리뷰 → 승인 → execute_plan
```

AI는 사용자 승인 없이 작업을 실행하지 않는다.

### 문서 구조

```markdown
## 1. 개요
- 날짜: YYYY-MM-DD (Asia/Tokyo)
- Commit: 현재 main 브랜치 commit ID
- 오더: (사용자 프롬프트 원문)
- 요약: (핵심 3줄 이내)

## 2. 목표 및 배경
(상세 설명)

## 3. 문제점 분석 (해당 시)
오더에 심각한 문제가 있고 대안이 존재하는 경우:
-> 여기까지만 작성하고 대안 제시 후 마무리

## 4. 변경 범위

### 4.1 산출물
- 산출물 목록

### 4.2 변경 파일
| 상태 | 경로 | 설명 |
|------|------|------|
| A | /path/to/new.ts | 신규 컴포넌트 |
| M | /path/to/edit.ts | 함수 추가 |
| D | /path/to/old.ts | 미사용 파일 삭제 |

## 5. 구현 계획
(설계 의도 및 작업 단계)

### Phase 1: [단계명]
- 작업 항목
- 테스트 확인

### Phase 2: [단계명]
...

## 6. 테스트

### 자동 테스트 (AI)
| 항목 | 방법 | 예상 결과 |
|------|------|----------|
| ... | ... | ... |

### 수동 테스트 (사용자)
| 항목 | 방법 | 예상 결과 |
|------|------|----------|
| ... | ... | ... |

## 7. 주의사항
- 리스크: ...
- 롤백 방법: ...
- Known Issues: ...
```

---

## 6. 에러 처리 및 보고

### 6.1 에러 발생 시 보고 형식

```markdown
## 에러 보고

### 발생 상황
- 명령어: `실행한 명령어`
- 시점: 어떤 작업 중이었는지

### 에러 내용
(에러 메시지 전문)

### 원인 분석
(추정 원인)

### 해결 방안
1. 방안 A: ...
2. 방안 B: ...

### 권장 조치
(AI 권장 사항)
```

### 6.2 롤백 필요 시

AI는 직접 롤백하지 않고 아래 내용을 보고한다:

- 롤백이 필요한 이유
- 롤백 명령어/절차
- 영향 범위

---

## 7. 보안 규칙

| 항목 | 규칙 |
|------|------|
| API 키/시크릿 | 코드에 하드코딩 금지, 환경변수 사용 |
| 민감 정보 | 로그/커밋에 포함 금지 |
| .env 파일 | .gitignore에 포함 확인 |

---

## 8. 우선순위 정의

작업 요청 시 우선순위 표기에 사용:

| 레벨 | 의미 | 대응 시점 |
|------|------|----------|
| P0 | 긴급 (프로덕션 장애) | 즉시 |
| P1 | 높음 (기능 버그) | 당일 |
| P2 | 보통 (개선) | 이번 Sprint |
| P3 | 낮음 (희망사항) | 백로그 |
